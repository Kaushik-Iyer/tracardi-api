{"file_name": "docs/qa/how_to_configure_tracardi_to_be_multi_tenant.md", "questions": ["How to configure Tracardi to be multi tenant?", "What is Tracardi's Multi-Tenancy Concept?", "How to configure Tracardi as Single Tenant (Default)?", "How to enable Multi-Tenancy in Tracardi?", "What are the prerequisites for the tenant name in Tracardi?", "How to define Available Tenants in Tracardi?"], "answer": "# How to configure Tracardi to be multi tenant?\nTo configure Tracardi as a multi-tenant system, you need to follow these steps:\n\n## Understand Tracardi's Multi-Tenancy Concept\n\nIn Tracardi, multi-tenancy means that a single Tracardi container can serve data for multiple separated tenants. Each\ntenant's data is stored in a separate namespace within the storage, ensuring data isolation and separation between\ntenants.\n\n## Configure Tracardi as Single Tenant (Default)\n\nBy default, Tracardi operates as a single tenant system, connecting to the namespace of a single tenant. The name of the\ntenant can be configured using the environment variable TENANT_NAME. If this variable is not set, the system will\ngenerate a random name for the tenant.\n\n## Enable Multi-Tenancy\n\nTo enable multi-tenancy in Tracardi, you need to set the environment variable MULTI_TENANT to \"yes\". This tells Tracardi container\nthat it should serve multiple tenants. The tenant name will be defined based on your API domain. For example, if your\nAPI domain is company-x.tracardi.com, the tenant name will be set as \"companyx\" by removing all non-alphanumeric\ncharacters. All the data indices for each tenant will be prefixed with the tenant name, creating a namespace in the\nstorage.\n\n## Prerequisites for Tenant Name\n\nThere are some prerequisites for the tenant name in Tracardi.\n\n### Length Requirement\n\nThe tenant name must be at least 5 letters long, excluding non-alphanumeric characters.\n\n### Non-Numeric\n\nThe tenant name cannot consist solely of numeric characters. It must include at least one non-numeric character.\n\n### Domain Structure\n\nThe tenant name must be part of a domain that has three parts. For example, a domain like \"mydomain.com\" will not create\na valid tenant as it only has two parts (\"com\" and \"mydomain\"). However, a domain like \"xxx.mydomain.com\" will define a\ntenant with the name \"xxx\". Similarly, in the case of \"zzz.xxx.mydomain.com,\" the tenant name will be \"zzz\".\n\n## Define Available Tenants\n\nYou can define the list of available tenants by setting the environment variable TENANT_API to the URL of the tenant\nmanager microservice. This microservice will manage the list of tenants and provide the necessary functionality to\ncreate, update, and delete tenants.\n\n## Errors\n\nIf you encounter an issue while trying to start a multi-tenant Tracardi server API, you can check the logs for a\nspecific error message: \"Can not find tenant for this instance.\" This error indicates that the prerequisites for the\ntenant name have not been met. In other words, the tenant name provided does not meet the necessary criteria as\ndiscussed earlier. By reviewing the logs and ensuring that the tenant name meets the required prerequisites, you can\nresolve this issue and successfully start the multi-tenant Tracardi server API.\n"}